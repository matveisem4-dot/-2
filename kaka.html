<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Творческий Список</title>
    <style>
        body { font-family: sans-serif; background: #fafafa; display: flex; justify-content: center; padding: 50px; }
        .card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); width: 300px; }
        
        /* Специальное место для нажатия */
        h2 { cursor: pointer; text-align: center; user-select: none; color: #333; }
        h2:hover { color: #007bff; }

        .hidden { display: none; }
        .admin-panel { margin-top: 20px; padding-top: 20px; border-top: 1px solid #eee; }
        
        input { width: 100%; padding: 8px; margin: 5px 0; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px; }
        button { width: 100%; padding: 8px; cursor: pointer; background: #007bff; color: white; border: none; border-radius: 4px; margin-top: 5px; }
        button.delete-btn { width: auto; background: #ff4d4d; padding: 2px 8px; font-size: 12px; }
        
        ul { list-style: none; padding: 0; }
        li { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid #f0f0f0; }
        .settings { font-size: 12px; color: #666; margin-top: 15px; }
    </style>
</head>
<body>

<div class="card">
    <h2 onclick="toggleAuth()">Мои Профессии</h2>
    
    <ul id="jobList">
        </ul>

    <div id="authSection" class="hidden">
        <input type="password" id="passInput" placeholder="Введите пароль">
        <button onclick="login()">Войти в режим правки</button>
    </div>

    <div id="adminPanel" class="hidden" class="admin-panel">
        <input type="text" id="newJobInput" placeholder="Новая профессия">
        <button onclick="addJob()">Добавить</button>
        
        <div class="settings">
            <p>Настройки пароля:</p>
            <input type="text" id="newPassInput" placeholder="Новый пароль">
            <button onclick="changePassword()" style="background: #6c757d;">Сменить пароль</button>
        </div>
        <button onclick="logout()" style="background: #333; margin-top: 20px;">Выйти</button>
    </div>
</div>

<script>
    let professions = ["Фотограф", "Артист"];
    let currentPassword = "1234";
    let isAdmin = false;

    // Рендер списка
    function render() {
        const list = document.getElementById('jobList');
        list.innerHTML = '';
        professions.forEach((job, index) => {
            const li = document.createElement('li');
            li.innerHTML = `<span>${job}</span>`;
            
            if (isAdmin) {
                const delBtn = document.createElement('button');
                delBtn.innerText = 'удалить';
                delBtn.className = 'delete-btn';
                delBtn.onclick = () => { professions.splice(index, 1); render(); };
                li.appendChild(delBtn);
            }
            list.appendChild(li);
        });
    }

    function toggleAuth() {
        if (!isAdmin) {
            document.getElementById('authSection').classList.toggle('hidden');
        }
    }

    function login() {
        const pass = document.getElementById('passInput').value;
        if (pass === currentPassword) {
            isAdmin = true;
            document.getElementById('authSection').classList.add('hidden');
            document.getElementById('adminPanel').classList.remove('hidden');
            render();
        } else {
            alert("Неверно");
        }
    }

    function logout() {
        isAdmin = false;
        document.getElementById('adminPanel').classList.add('hidden');
        render();
    }

    function addJob() {
        const input = document.getElementById('newJobInput');
        const val = input.value.trim();
        const hardTasks = ["пропылесосить", "пылесос", "уборка"];

        if (val && !hardTasks.includes(val.toLowerCase())) {
            professions.push(val);
            input.value = '';
            render();
        } else if (hardTasks.includes(val.toLowerCase())) {
            alert("Слишком жестко! Выбери полегче.");
        }
    }

    function changePassword() {
        const newPass = document.getElementById('newPassInput').value;
        if (newPass.length > 0) {
            currentPassword = newPass;
            alert("Пароль изменен!");
            document.getElementById('newPassInput').value = '';
        }
    }

    // Инициализация
    render();
</script>

</body>
</html>
